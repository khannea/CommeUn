{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khanh\\\\workspace\\\\commeun\\\\src\\\\components\\\\Logout.js\";\nimport React, { Component } from \"react\";\nimport \"./Logout.css\";\nimport { connect } from \"react-redux\";\nimport { logoutSuccess } from \"../store/actions\";\nimport Button from \"@material-ui/core/Button\";\n\nclass Logout extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClick = () => {\n      // fetch(\"http://localhost:4000/unsetToken\", {\n      fetch(\"https://testkhannea.herokuapp.com/unsetToken\", {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        // this.setState({\n        //   connected: false\n        // });\n        this.props.dispatch(logoutSuccess());\n        localStorage.clear();\n      }).catch(error => console.error(\"Error:\", error)).then(() => {\n        this.props.action();\n      });\n    };\n\n    this.onClick = event => {\n      this.handleClick();\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"button\",\n      onClick: this.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"D\\xE9connexion\"));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  loading: state.loading,\n  error: state.error\n});\n\nexport default connect(mapStateToProps)(Logout);","map":{"version":3,"sources":["C:/Users/khanh/workspace/commeun/src/components/Logout.js"],"names":["React","Component","connect","logoutSuccess","Button","Logout","handleClick","fetch","method","credentials","headers","then","response","props","dispatch","localStorage","clear","catch","error","console","action","onClick","event","render","mapStateToProps","state","auth","loading"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,cAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;AAEA,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAAA;AAAA;;AAAA,SAC7BK,WAD6B,GACf,MAAM;AAClB;AACAC,MAAAA,KAAK,CAAC,8CAAD,EAAiD;AACpDC,QAAAA,MAAM,EAAE,KAD4C;AAEpDC,QAAAA,WAAW,EAAE,SAFuC;AAGpDC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAH2C,OAAjD,CAAL,CAOGC,IAPH,CAOQC,QAAQ,IAAI;AAChB;AACA;AACA;AACA,aAAKC,KAAL,CAAWC,QAAX,CAAoBX,aAAa,EAAjC;AACAY,QAAAA,YAAY,CAACC,KAAb;AACD,OAbH,EAcGC,KAdH,CAcSC,KAAK,IAAIC,OAAO,CAACD,KAAR,CAAc,QAAd,EAAwBA,KAAxB,CAdlB,EAeGP,IAfH,CAeQ,MAAM;AACV,aAAKE,KAAL,CAAWO,MAAX;AACD,OAjBH;AAkBD,KArB4B;;AAAA,SAuB7BC,OAvB6B,GAuBnBC,KAAK,IAAI;AACjB,WAAKhB,WAAL;AACD,KAzB4B;AAAA;;AA0B7BiB,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,KAAKF,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF;AAOD;;AAlC4B;;AAqC/B,MAAMG,eAAe,GAAGC,KAAK,KAAK;AAChCC,EAAAA,IAAI,EAAED,KAAK,CAACC,IADoB;AAEhCC,EAAAA,OAAO,EAAEF,KAAK,CAACE,OAFiB;AAGhCT,EAAAA,KAAK,EAAEO,KAAK,CAACP;AAHmB,CAAL,CAA7B;;AAMA,eAAehB,OAAO,CAACsB,eAAD,CAAP,CAAyBnB,MAAzB,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Logout.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutSuccess } from \"../store/actions\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nclass Logout extends Component {\r\n  handleClick = () => {\r\n    // fetch(\"http://localhost:4000/unsetToken\", {\r\n    fetch(\"https://testkhannea.herokuapp.com/unsetToken\", {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(response => {\r\n        // this.setState({\r\n        //   connected: false\r\n        // });\r\n        this.props.dispatch(logoutSuccess());\r\n        localStorage.clear();\r\n      })\r\n      .catch(error => console.error(\"Error:\", error))\r\n      .then(() => {\r\n        this.props.action();\r\n      });\r\n  };\r\n\r\n  onClick = event => {\r\n    this.handleClick();\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button type=\"button\" onClick={this.onClick}>\r\n          DÃ©connexion\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  loading: state.loading,\r\n  error: state.error\r\n});\r\n\r\nexport default connect(mapStateToProps)(Logout);\r\n"]},"metadata":{},"sourceType":"module"}