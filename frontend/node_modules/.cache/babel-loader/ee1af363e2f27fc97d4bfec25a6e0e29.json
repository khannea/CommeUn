{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khanh\\\\workspace\\\\commeun\\\\frontend\\\\src\\\\views\\\\ForumView.js\";\nimport React, { Component } from \"react\";\nimport Topic from \"../components/Topic\";\n\nclass ForumView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: null\n    };\n\n    this.getDataFromDb = () => {\n      // const req = new Request(\"http://localhost:4000/topics\", {\n      const req = new Request(\"https://testkhannea.herokuapp.com/topics\", {\n        method: \"GET\",\n        cache: \"default\",\n        credentials: \"include\"\n      });\n      fetch(req).then(res => {\n        if (res.status === 401) {} else {\n          return res.json();\n        }\n      }).then(data => {\n        this.setState({\n          data: data\n        });\n      });\n    };\n\n    this.getCookie = () => {\n      // const req = new Request(\"http://localhost:4000/setuser\", {\n      const req = new Request(\"https://testkhannea.herokuapp.com/setuser\", {\n        method: \"GET\",\n        cache: \"default\",\n        credentials: \"include\"\n      });\n      fetch(req).then(res => {\n        if (res.status === 401) {\n          console.log(\"ForumAccueil n'a pas recu les categories\");\n        } else {// console.log(\"Requete cookie reussie!!\");\n          // return res.json();\n        }\n      });\n    };\n\n    this.goToTopic = this.goToTopic.bind(this);\n  }\n\n  goToTopic(id) {\n    let path = `/Layout/Topic/` + id;\n    this.props.history.push(path);\n  }\n\n  componentDidMount() {\n    this.getDataFromDb();\n    this.getCookie();\n  } // goToTopic = (id) => {\n  //   console.log('id du topic: '+id);\n  //   return null;\n  // }\n\n\n  render() {\n    const data = this.state.data;\n    return React.createElement(\"div\", {\n      className: \"topics\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, data && data.map(({\n      id,\n      titre,\n      user\n    }, index) => React.createElement(Topic, {\n      titre: titre,\n      user: user,\n      key: index,\n      id: id,\n      onTopicClick: this.goToTopic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default ForumView;","map":{"version":3,"sources":["C:/Users/khanh/workspace/commeun/frontend/src/views/ForumView.js"],"names":["React","Component","Topic","ForumView","constructor","state","data","getDataFromDb","req","Request","method","cache","credentials","fetch","then","res","status","json","setState","getCookie","console","log","goToTopic","bind","id","path","props","history","push","componentDidMount","render","map","titre","user","index"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,KAAP,MAAkB,qBAAlB;;AAEA,MAAMC,SAAN,SAAwBF,SAAxB,CAAkC;AAKhCG,EAAAA,WAAW,GAAG;AACZ;AADY,SAJdC,KAIc,GAJN;AACNC,MAAAA,IAAI,EAAE;AADA,KAIM;;AAAA,SAoBdC,aApBc,GAoBE,MAAM;AACpB;AACA,YAAMC,GAAG,GAAG,IAAIC,OAAJ,CAAY,0CAAZ,EAAwD;AAClEC,QAAAA,MAAM,EAAE,KAD0D;AAElEC,QAAAA,KAAK,EAAE,SAF2D;AAGlEC,QAAAA,WAAW,EAAE;AAHqD,OAAxD,CAAZ;AAKAC,MAAAA,KAAK,CAACL,GAAD,CAAL,CACGM,IADH,CACQC,GAAG,IAAI;AACX,YAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB,CACvB,CADD,MACO;AACL,iBAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;AACF,OANH,EAOGH,IAPH,CAOQR,IAAI,IAAI;AACZ,aAAKY,QAAL,CAAc;AACZZ,UAAAA,IAAI,EAAEA;AADM,SAAd;AAGD,OAXH;AAYD,KAvCa;;AAAA,SAyCda,SAzCc,GAyCF,MAAM;AAChB;AACA,YAAMX,GAAG,GAAG,IAAIC,OAAJ,CAAY,2CAAZ,EAAyD;AACnEC,QAAAA,MAAM,EAAE,KAD2D;AAEnEC,QAAAA,KAAK,EAAE,SAF4D;AAGnEC,QAAAA,WAAW,EAAE;AAHsD,OAAzD,CAAZ;AAKAC,MAAAA,KAAK,CAACL,GAAD,CAAL,CAAWM,IAAX,CAAgBC,GAAG,IAAI;AACrB,YAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBI,UAAAA,OAAO,CAACC,GAAR,CAAY,0CAAZ;AACD,SAFD,MAEO,CACL;AACA;AACD;AACF,OAPD;AAQD,KAxDa;;AAEZ,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAjB;AACD;;AAEDD,EAAAA,SAAS,CAACE,EAAD,EAAK;AACZ,QAAIC,IAAI,GAAI,gBAAD,GAAmBD,EAA9B;AACA,SAAKE,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwBH,IAAxB;AACD;;AAEDI,EAAAA,iBAAiB,GAAG;AAClB,SAAKtB,aAAL;AACA,SAAKY,SAAL;AACD,GAlB+B,CAoBhC;AACA;AACA;AACA;;;AAwCAW,EAAAA,MAAM,GAAG;AAAA,UACCxB,IADD,GACU,KAAKD,KADf,CACCC,IADD;AAGP,WACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,IAAI,IACHA,IAAI,CAACyB,GAAL,CAAS,CAAC;AAAEP,MAAAA,EAAF;AAAMQ,MAAAA,KAAN;AAAaC,MAAAA;AAAb,KAAD,EAAsBC,KAAtB,KACP,oBAAC,KAAD;AACE,MAAA,KAAK,EAAEF,KADT;AAEE,MAAA,IAAI,EAAEC,IAFR;AAGE,MAAA,GAAG,EAAEC,KAHP;AAIE,MAAA,EAAE,EAAEV,EAJN;AAKE,MAAA,YAAY,EAAE,KAAKF,SALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFJ,CADF;AAcD;;AAhF+B;;AAmFlC,eAAenB,SAAf","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Topic from \"../components/Topic\";\r\n\r\nclass ForumView extends Component {\r\n  state = {\r\n    data: null\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.goToTopic = this.goToTopic.bind(this);\r\n  }\r\n\r\n  goToTopic(id) {\r\n    let path = `/Layout/Topic/` + id;\r\n    this.props.history.push(path);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getDataFromDb();\r\n    this.getCookie();\r\n  }\r\n\r\n  // goToTopic = (id) => {\r\n  //   console.log('id du topic: '+id);\r\n  //   return null;\r\n  // }\r\n\r\n  getDataFromDb = () => {\r\n    // const req = new Request(\"http://localhost:4000/topics\", {\r\n    const req = new Request(\"https://testkhannea.herokuapp.com/topics\", {\r\n      method: \"GET\",\r\n      cache: \"default\",\r\n      credentials: \"include\"\r\n    });\r\n    fetch(req)\r\n      .then(res => {\r\n        if (res.status === 401) {\r\n        } else {\r\n          return res.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        this.setState({\r\n          data: data\r\n        });\r\n      });\r\n  };\r\n\r\n  getCookie = () => {\r\n    // const req = new Request(\"http://localhost:4000/setuser\", {\r\n    const req = new Request(\"https://testkhannea.herokuapp.com/setuser\", {\r\n      method: \"GET\",\r\n      cache: \"default\",\r\n      credentials: \"include\"\r\n    });\r\n    fetch(req).then(res => {\r\n      if (res.status === 401) {\r\n        console.log(\"ForumAccueil n'a pas recu les categories\");\r\n      } else {\r\n        // console.log(\"Requete cookie reussie!!\");\r\n        // return res.json();\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { data } = this.state;\r\n\r\n    return (\r\n      <div className=\"topics\">\r\n        {data &&\r\n          data.map(({ id, titre, user }, index) => (\r\n            <Topic\r\n              titre={titre}\r\n              user={user}\r\n              key={index}\r\n              id={id}\r\n              onTopicClick={this.goToTopic}\r\n            />\r\n          ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ForumView;\r\n"]},"metadata":{},"sourceType":"module"}